<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
</head>
<body>
	<h1>여러 개의 컨텐츠, 값 조회하기</h1>
	
	<h3>세미나 참가자</h3>
	<ul id="seminar-persons">
		<li>김구</li>
		<li>김유신</li>
		<li>이황</li>
		<li>류관순</li>
		<li>을지문덕</li>
	</ul>

	<h3>수강생 리스트</h3>
	<table id="student-list" border="1" style="width: 100%">
		<thead>
			<tr>
				<th>학번</th>
				<th>이름</th>
				<th>학과</th>
				<th>학년</th>
			</tr>
		</thead>
		<tbody></tbody>
	</table>
<script type="text/javascript" src="../resources/js/jquery/jquery-3.5.1.min.js"></script>
<script type="text/javascript">
	// 세미나 참가자를 조회해서 한명씩 콘솔에 출력하기
	// $(선택자).each(function (index, element) { ... });
	// 선택자로 선택된 엘리먼트의 개수만큼 정의된 함수가 실행된다.
	// 함수가 실행될 때마다 index와 element 변수에 인덱스값과 검색된 엘리먼트 객체가 순서대로 전달된다.
	// 변수 el에 해당하는 값은 jQuery객체가 아니라 엘리먼트 객체이다.
	$("#seminar-persons li").each(function (index, el) {
		console.log(index, $(el).text());
	});
	
	// $(선택자).each(function () { ... this ... });
	// 지정된 함수가 실행될 때마다 함수 내의 this에는 검색된 엘리먼트 객체가 순서대로 전달된다.
	// this는 현재 반복중인 엘리먼트 객체다. (jQuery객체가 아님)
	// jQuery 메소드를 사용하기 위해서는 $(this) 형태로 변환해야 한다.
	var personNames = [];
	$("#seminar-persons li").each(function() {
		var personName = $(this).text();
		console.log(personName);
		
		personNames.push(personName);
	})
	console.log(personNames);
	
	// $.each(배열, 함수);
	// $.each(배열, function(index, item) { ... });
	var students = [
		{no : 100, name:"홍길동", dept:"전자공학과", grade:4},
		{no : 102, name:"강감찬", dept:"전자공학과", grade:3},
		{no : 104, name:"김유신", dept:"전자공학과", grade:2},
		{no : 200, name:"이순신", dept:"컴퓨터공학과", grade:4},
		{no : 201, name:"류관순", dept:"컴퓨터공학과", grade:1}
	];
	var $tbody = $("#student-list tbody");
	$.each(students, function(index, stud) {
		var content = "<tr>";
		content += "<td>" + stud.no + "</td>";
		content += "<td>" + stud.name + "</td>";
		content += "<td>" + stud.dept + "</td>";
		content += "<td>" + stud.grade + "</td>";
		content += "</tr>";
		
		$tbody.append(content);
	});

	// 단순배열을 다루는 each의 콜백함수 내부에서 사용되는 this에는 배열의 각 요소가 순서대로 전달된다.
	$.each(students, function() {
		var content = "<tr>";
		content += "<td>" + this.no + "</td>";
		content += "<td>" + this.name + "</td>";
		content += "<td>" + this.dept + "</td>";
		content += "<td>" + this.grade + "</td>";
		content += "</tr>";
		
		$tbody.append(content);
	});
</script>	
</body>
</html>