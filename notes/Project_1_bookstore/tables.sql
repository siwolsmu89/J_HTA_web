--------------------------------------------------------
--  파일이 생성됨 - 월요일-5월-25-2020   
--------------------------------------------------------
--------------------------------------------------------
--  DDL for Table SAMPLE_BOOK_QUESTIONS
--------------------------------------------------------

  CREATE TABLE "HR"."SAMPLE_BOOK_QUESTIONS" 
   (	"QUESTION_NO" NUMBER(7,0), 
	"QUESTION_TITLE" VARCHAR2(500 BYTE), 
	"USER_ID" VARCHAR2(50 BYTE), 
	"QUESTION_CONTENT" VARCHAR2(4000 BYTE), 
	"QUESTION_VIEW_COUNT" NUMBER(7,0) DEFAULT 0, 
	"QUESTION_REGISTERED_DATE" DATE DEFAULT SYSDATE, 
	"QUESTION_STATUS" CHAR(1 BYTE) DEFAULT 'N', 
	"QUESTION_TYPE" VARCHAR2(200 BYTE)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Table SAMPLE_BOOK_ANSWERS
--------------------------------------------------------

  CREATE TABLE "HR"."SAMPLE_BOOK_ANSWERS" 
   (	"ANSWER_NO" NUMBER(7,0), 
	"ANSWER_CONTENT" VARCHAR2(4000 BYTE), 
	"ANSWER_REGISTERED_DATE" DATE DEFAULT SYSDATE, 
	"QUESTION_NO" NUMBER(7,0)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Table SAMPLE_BOOK_LIKES
--------------------------------------------------------

  CREATE TABLE "HR"."SAMPLE_BOOK_LIKES" 
   (	"BOOK_NO" NUMBER(7,0), 
	"USER_ID" VARCHAR2(50 BYTE)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Table SAMPLE_BOOK_ORDERS
--------------------------------------------------------

  CREATE TABLE "HR"."SAMPLE_BOOK_ORDERS" 
   (	"ORDER_NO" NUMBER(6,0), 
	"USER_ID" VARCHAR2(50 BYTE), 
	"BOOK_NO" NUMBER(6,0), 
	"ORDER_PRICE" NUMBER(7,0), 
	"ORDER_AMOUNT" NUMBER(3,0), 
	"ORDER_REGISTERED_DATE" DATE DEFAULT SYSDATE
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Table SAMPLE_BOOK_REVIEWS
--------------------------------------------------------

  CREATE TABLE "HR"."SAMPLE_BOOK_REVIEWS" 
   (	"REVIEW_NO" NUMBER(7,0), 
	"REVIEW_CONTENT" VARCHAR2(2000 BYTE), 
	"REVIEW_POINT" NUMBER(1,0), 
	"REVIEW_REGISTERED_DATE" DATE DEFAULT SYSDATE, 
	"BOOK_NO" NUMBER(7,0), 
	"USER_ID" VARCHAR2(50 BYTE)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Table SAMPLE_BOOK_USERS
--------------------------------------------------------

  CREATE TABLE "HR"."SAMPLE_BOOK_USERS" 
   (	"USER_ID" VARCHAR2(50 BYTE), 
	"USER_PASSWORD" VARCHAR2(50 BYTE), 
	"USER_NAME" VARCHAR2(100 BYTE) DEFAULT NULL, 
	"USER_EMAIL" VARCHAR2(256 BYTE), 
	"USER_POINT" NUMBER(10,0) DEFAULT 0, 
	"USER_REGISTERED_DATE" DATE DEFAULT SYSDATE
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Table SAMPLE_BOOKS
--------------------------------------------------------

  CREATE TABLE "HR"."SAMPLE_BOOKS" 
   (	"BOOK_NO" NUMBER(6,0), 
	"BOOK_TITLE" VARCHAR2(500 BYTE), 
	"BOOK_WRITER" VARCHAR2(200 BYTE), 
	"BOOK_GENRE" VARCHAR2(200 BYTE), 
	"BOOK_PUBLISHER" VARCHAR2(200 BYTE), 
	"BOOK_PRICE" NUMBER(7,0), 
	"BOOK_DISCOUNT_PRICE" NUMBER(7,0), 
	"BOOK_REGISTERED_DATE" DATE DEFAULT SYSDATE, 
	"BOOK_STOCK" NUMBER(5,0) DEFAULT 100, 
	"BOOK_POINT" NUMBER(2,1) DEFAULT 0, 
	"BOOK_LIKES" NUMBER(7,0) DEFAULT 0
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
REM INSERTING into HR.SAMPLE_BOOK_QUESTIONS
SET DEFINE OFF;
Insert into HR.SAMPLE_BOOK_QUESTIONS (QUESTION_NO,QUESTION_TITLE,USER_ID,QUESTION_CONTENT,QUESTION_VIEW_COUNT,QUESTION_REGISTERED_DATE,QUESTION_STATUS,QUESTION_TYPE) values (1000010,'환불해주세요','kimmi','사실 뻥임ㅎ',1,to_date('20/04/28 15:04:32','RR/MM/DD HH24:MI:SS'),'Y','결제');
Insert into HR.SAMPLE_BOOK_QUESTIONS (QUESTION_NO,QUESTION_TITLE,USER_ID,QUESTION_CONTENT,QUESTION_VIEW_COUNT,QUESTION_REGISTERED_DATE,QUESTION_STATUS,QUESTION_TYPE) values (1000008,'문의한번해봅니다','kimmi','문의문의',1,to_date('20/04/28 14:01:14','RR/MM/DD HH24:MI:SS'),'Y','배송');
Insert into HR.SAMPLE_BOOK_QUESTIONS (QUESTION_NO,QUESTION_TITLE,USER_ID,QUESTION_CONTENT,QUESTION_VIEW_COUNT,QUESTION_REGISTERED_DATE,QUESTION_STATUS,QUESTION_TYPE) values (1000007,'배송이 안와요','kimmi','배송배송 뤽베송',1,to_date('20/04/27 20:37:39','RR/MM/DD HH24:MI:SS'),'N','배송');
Insert into HR.SAMPLE_BOOK_QUESTIONS (QUESTION_NO,QUESTION_TITLE,USER_ID,QUESTION_CONTENT,QUESTION_VIEW_COUNT,QUESTION_REGISTERED_DATE,QUESTION_STATUS,QUESTION_TYPE) values (1000006,'배송배송','kimmi','배송배송',2,to_date('20/04/27 20:33:16','RR/MM/DD HH24:MI:SS'),'Y','배송');
REM INSERTING into HR.SAMPLE_BOOK_ANSWERS
SET DEFINE OFF;
Insert into HR.SAMPLE_BOOK_ANSWERS (ANSWER_NO,ANSWER_CONTENT,ANSWER_REGISTERED_DATE,QUESTION_NO) values (1000001,'배송배송 뤽배송',to_date('20/04/28 15:02:47','RR/MM/DD HH24:MI:SS'),1000006);
Insert into HR.SAMPLE_BOOK_ANSWERS (ANSWER_NO,ANSWER_CONTENT,ANSWER_REGISTERED_DATE,QUESTION_NO) values (1000002,'앗 속았넹ㅎ',to_date('20/04/28 15:05:59','RR/MM/DD HH24:MI:SS'),1000010);
Insert into HR.SAMPLE_BOOK_ANSWERS (ANSWER_NO,ANSWER_CONTENT,ANSWER_REGISTERED_DATE,QUESTION_NO) values (1000003,'답변한번해봅니다',to_date('20/04/28 15:06:25','RR/MM/DD HH24:MI:SS'),1000008);
REM INSERTING into HR.SAMPLE_BOOK_LIKES
SET DEFINE OFF;
Insert into HR.SAMPLE_BOOK_LIKES (BOOK_NO,USER_ID) values (10011,'kimkim');
Insert into HR.SAMPLE_BOOK_LIKES (BOOK_NO,USER_ID) values (10011,'kimmi');
Insert into HR.SAMPLE_BOOK_LIKES (BOOK_NO,USER_ID) values (10012,'kimkim');
Insert into HR.SAMPLE_BOOK_LIKES (BOOK_NO,USER_ID) values (10012,'kimmi');
Insert into HR.SAMPLE_BOOK_LIKES (BOOK_NO,USER_ID) values (10013,'kimmi');
REM INSERTING into HR.SAMPLE_BOOK_ORDERS
SET DEFINE OFF;
Insert into HR.SAMPLE_BOOK_ORDERS (ORDER_NO,USER_ID,BOOK_NO,ORDER_PRICE,ORDER_AMOUNT,ORDER_REGISTERED_DATE) values (500144,'siwol_smu',10081,43000,1,to_date('20/05/25 11:40:55','RR/MM/DD HH24:MI:SS'));
Insert into HR.SAMPLE_BOOK_ORDERS (ORDER_NO,USER_ID,BOOK_NO,ORDER_PRICE,ORDER_AMOUNT,ORDER_REGISTERED_DATE) values (500100,'kimmi',10012,13500,10,to_date('20/05/08 15:08:00','RR/MM/DD HH24:MI:SS'));
Insert into HR.SAMPLE_BOOK_ORDERS (ORDER_NO,USER_ID,BOOK_NO,ORDER_PRICE,ORDER_AMOUNT,ORDER_REGISTERED_DATE) values (500101,'kimmi',10012,13500,10,to_date('20/05/08 15:08:14','RR/MM/DD HH24:MI:SS'));
Insert into HR.SAMPLE_BOOK_ORDERS (ORDER_NO,USER_ID,BOOK_NO,ORDER_PRICE,ORDER_AMOUNT,ORDER_REGISTERED_DATE) values (500102,'kimmi',10012,13500,3,to_date('20/05/08 16:51:27','RR/MM/DD HH24:MI:SS'));
Insert into HR.SAMPLE_BOOK_ORDERS (ORDER_NO,USER_ID,BOOK_NO,ORDER_PRICE,ORDER_AMOUNT,ORDER_REGISTERED_DATE) values (500043,'JasikZasik',10011,30000,20,to_date('20/04/24 17:34:01','RR/MM/DD HH24:MI:SS'));
Insert into HR.SAMPLE_BOOK_ORDERS (ORDER_NO,USER_ID,BOOK_NO,ORDER_PRICE,ORDER_AMOUNT,ORDER_REGISTERED_DATE) values (500120,'kklee0202',10010,22500,1,to_date('20/05/22 16:43:52','RR/MM/DD HH24:MI:SS'));
Insert into HR.SAMPLE_BOOK_ORDERS (ORDER_NO,USER_ID,BOOK_NO,ORDER_PRICE,ORDER_AMOUNT,ORDER_REGISTERED_DATE) values (500121,'kklee0202',10010,22500,1,to_date('20/05/22 16:44:06','RR/MM/DD HH24:MI:SS'));
Insert into HR.SAMPLE_BOOK_ORDERS (ORDER_NO,USER_ID,BOOK_NO,ORDER_PRICE,ORDER_AMOUNT,ORDER_REGISTERED_DATE) values (500123,'kimmi',10016,1000,4,to_date('20/05/22 17:05:38','RR/MM/DD HH24:MI:SS'));
Insert into HR.SAMPLE_BOOK_ORDERS (ORDER_NO,USER_ID,BOOK_NO,ORDER_PRICE,ORDER_AMOUNT,ORDER_REGISTERED_DATE) values (500124,'sdyoon',10100,5000,1,to_date('20/05/22 17:15:44','RR/MM/DD HH24:MI:SS'));
Insert into HR.SAMPLE_BOOK_ORDERS (ORDER_NO,USER_ID,BOOK_NO,ORDER_PRICE,ORDER_AMOUNT,ORDER_REGISTERED_DATE) values (500125,'sdyoon',10060,8000,3,to_date('20/05/22 17:16:15','RR/MM/DD HH24:MI:SS'));
Insert into HR.SAMPLE_BOOK_ORDERS (ORDER_NO,USER_ID,BOOK_NO,ORDER_PRICE,ORDER_AMOUNT,ORDER_REGISTERED_DATE) values (500127,'sdyoon',10007,27000,1,to_date('20/05/22 17:31:37','RR/MM/DD HH24:MI:SS'));
Insert into HR.SAMPLE_BOOK_ORDERS (ORDER_NO,USER_ID,BOOK_NO,ORDER_PRICE,ORDER_AMOUNT,ORDER_REGISTERED_DATE) values (500141,'siwol_smu',10100,5000,3,to_date('20/05/25 09:18:54','RR/MM/DD HH24:MI:SS'));
Insert into HR.SAMPLE_BOOK_ORDERS (ORDER_NO,USER_ID,BOOK_NO,ORDER_PRICE,ORDER_AMOUNT,ORDER_REGISTERED_DATE) values (500142,'siwol_smu',10104,22500,1,to_date('20/05/25 09:55:54','RR/MM/DD HH24:MI:SS'));
Insert into HR.SAMPLE_BOOK_ORDERS (ORDER_NO,USER_ID,BOOK_NO,ORDER_PRICE,ORDER_AMOUNT,ORDER_REGISTERED_DATE) values (500145,'JasikZasik',10100,5000,4,to_date('20/05/25 16:11:23','RR/MM/DD HH24:MI:SS'));
Insert into HR.SAMPLE_BOOK_ORDERS (ORDER_NO,USER_ID,BOOK_NO,ORDER_PRICE,ORDER_AMOUNT,ORDER_REGISTERED_DATE) values (500143,'siwol_smu',10012,13500,1,to_date('20/05/25 11:39:40','RR/MM/DD HH24:MI:SS'));
Insert into HR.SAMPLE_BOOK_ORDERS (ORDER_NO,USER_ID,BOOK_NO,ORDER_PRICE,ORDER_AMOUNT,ORDER_REGISTERED_DATE) values (500042,'kimmi',10012,15000,10,to_date('20/04/24 17:32:59','RR/MM/DD HH24:MI:SS'));
Insert into HR.SAMPLE_BOOK_ORDERS (ORDER_NO,USER_ID,BOOK_NO,ORDER_PRICE,ORDER_AMOUNT,ORDER_REGISTERED_DATE) values (500126,'kklee0202',10007,27000,10,to_date('20/05/22 17:30:22','RR/MM/DD HH24:MI:SS'));
Insert into HR.SAMPLE_BOOK_ORDERS (ORDER_NO,USER_ID,BOOK_NO,ORDER_PRICE,ORDER_AMOUNT,ORDER_REGISTERED_DATE) values (500146,'Neena',10061,10000,1,to_date('20/05/25 16:42:12','RR/MM/DD HH24:MI:SS'));
Insert into HR.SAMPLE_BOOK_ORDERS (ORDER_NO,USER_ID,BOOK_NO,ORDER_PRICE,ORDER_AMOUNT,ORDER_REGISTERED_DATE) values (500147,'Neena',10100,5000,1,to_date('20/05/25 16:46:12','RR/MM/DD HH24:MI:SS'));
Insert into HR.SAMPLE_BOOK_ORDERS (ORDER_NO,USER_ID,BOOK_NO,ORDER_PRICE,ORDER_AMOUNT,ORDER_REGISTERED_DATE) values (500002,'kimmi',10012,27000,2,to_date('20/04/23 17:50:33','RR/MM/DD HH24:MI:SS'));
REM INSERTING into HR.SAMPLE_BOOK_REVIEWS
SET DEFINE OFF;
Insert into HR.SAMPLE_BOOK_REVIEWS (REVIEW_NO,REVIEW_CONTENT,REVIEW_POINT,REVIEW_REGISTERED_DATE,BOOK_NO,USER_ID) values (45,'리뷰테스트 ㅎㅎㅎㅎ55555',5,to_date('20/05/25 10:20:12','RR/MM/DD HH24:MI:SS'),10104,'siwol_smu');
Insert into HR.SAMPLE_BOOK_REVIEWS (REVIEW_NO,REVIEW_CONTENT,REVIEW_POINT,REVIEW_REGISTERED_DATE,BOOK_NO,USER_ID) values (52,'내가 사고 나서 재고없어짐ㅎ',5,to_date('20/05/25 16:04:17','RR/MM/DD HH24:MI:SS'),10011,'JasikZasik');
Insert into HR.SAMPLE_BOOK_REVIEWS (REVIEW_NO,REVIEW_CONTENT,REVIEW_POINT,REVIEW_REGISTERED_DATE,BOOK_NO,USER_ID) values (32,'그냥그렇다',3,to_date('20/05/08 16:23:40','RR/MM/DD HH24:MI:SS'),10007,'kimkim');
Insert into HR.SAMPLE_BOOK_REVIEWS (REVIEW_NO,REVIEW_CONTENT,REVIEW_POINT,REVIEW_REGISTERED_DATE,BOOK_NO,USER_ID) values (29,'와 너무재미있다',2,to_date('20/05/08 16:11:53','RR/MM/DD HH24:MI:SS'),10011,'sheldor');
Insert into HR.SAMPLE_BOOK_REVIEWS (REVIEW_NO,REVIEW_CONTENT,REVIEW_POINT,REVIEW_REGISTERED_DATE,BOOK_NO,USER_ID) values (30,'와 너무재미있다',2,to_date('20/05/08 16:13:06','RR/MM/DD HH24:MI:SS'),10007,'sheldor');
Insert into HR.SAMPLE_BOOK_REVIEWS (REVIEW_NO,REVIEW_CONTENT,REVIEW_POINT,REVIEW_REGISTERED_DATE,BOOK_NO,USER_ID) values (23,'재미없어요',5,to_date('20/04/29 09:24:18','RR/MM/DD HH24:MI:SS'),10013,'kimmi');
Insert into HR.SAMPLE_BOOK_REVIEWS (REVIEW_NO,REVIEW_CONTENT,REVIEW_POINT,REVIEW_REGISTERED_DATE,BOOK_NO,USER_ID) values (33,'노잼',1,to_date('20/05/08 16:24:08','RR/MM/DD HH24:MI:SS'),10007,'kimmi');
Insert into HR.SAMPLE_BOOK_REVIEWS (REVIEW_NO,REVIEW_CONTENT,REVIEW_POINT,REVIEW_REGISTERED_DATE,BOOK_NO,USER_ID) values (43,'나는 됴해',3,to_date('20/05/25 10:17:43','RR/MM/DD HH24:MI:SS'),10100,'siwol_smu');
Insert into HR.SAMPLE_BOOK_REVIEWS (REVIEW_NO,REVIEW_CONTENT,REVIEW_POINT,REVIEW_REGISTERED_DATE,BOOK_NO,USER_ID) values (55,'일기는 일기장에',0,to_date('20/05/25 16:15:05','RR/MM/DD HH24:MI:SS'),10060,'sdyoon');
Insert into HR.SAMPLE_BOOK_REVIEWS (REVIEW_NO,REVIEW_CONTENT,REVIEW_POINT,REVIEW_REGISTERED_DATE,BOOK_NO,USER_ID) values (49,'읽지는않았지만
참좋은책입니다',2,to_date('20/05/25 11:41:17','RR/MM/DD HH24:MI:SS'),10081,'siwol_smu');
Insert into HR.SAMPLE_BOOK_REVIEWS (REVIEW_NO,REVIEW_CONTENT,REVIEW_POINT,REVIEW_REGISTERED_DATE,BOOK_NO,USER_ID) values (53,'어부사시사는 없나요',5,to_date('20/05/25 16:11:39','RR/MM/DD HH24:MI:SS'),10100,'JasikZasik');
Insert into HR.SAMPLE_BOOK_REVIEWS (REVIEW_NO,REVIEW_CONTENT,REVIEW_POINT,REVIEW_REGISTERED_DATE,BOOK_NO,USER_ID) values (54,'안본지 오래돼서 슬슬 기억이 안나네요',3,to_date('20/05/25 16:12:30','RR/MM/DD HH24:MI:SS'),10007,'kklee0202');
Insert into HR.SAMPLE_BOOK_REVIEWS (REVIEW_NO,REVIEW_CONTENT,REVIEW_POINT,REVIEW_REGISTERED_DATE,BOOK_NO,USER_ID) values (50,'세상따윈 더러워 버리는 것이다',4,to_date('20/05/25 14:32:23','RR/MM/DD HH24:MI:SS'),10012,'siwol_smu');
Insert into HR.SAMPLE_BOOK_REVIEWS (REVIEW_NO,REVIEW_CONTENT,REVIEW_POINT,REVIEW_REGISTERED_DATE,BOOK_NO,USER_ID) values (51,'내가 썼지만 잘 씀 ㅎ',5,to_date('20/05/25 14:53:48','RR/MM/DD HH24:MI:SS'),10100,'sdyoon');
Insert into HR.SAMPLE_BOOK_REVIEWS (REVIEW_NO,REVIEW_CONTENT,REVIEW_POINT,REVIEW_REGISTERED_DATE,BOOK_NO,USER_ID) values (56,'000',0,to_date('20/05/25 16:46:18','RR/MM/DD HH24:MI:SS'),10100,'Neena');
Insert into HR.SAMPLE_BOOK_REVIEWS (REVIEW_NO,REVIEW_CONTENT,REVIEW_POINT,REVIEW_REGISTERED_DATE,BOOK_NO,USER_ID) values (12,'아주재미있었읍니다',1,to_date('20/04/28 17:19:14','RR/MM/DD HH24:MI:SS'),10011,'kimmi');
Insert into HR.SAMPLE_BOOK_REVIEWS (REVIEW_NO,REVIEW_CONTENT,REVIEW_POINT,REVIEW_REGISTERED_DATE,BOOK_NO,USER_ID) values (13,'아주재미없었습니다',5,to_date('20/04/28 17:19:25','RR/MM/DD HH24:MI:SS'),10011,'kimkim');
Insert into HR.SAMPLE_BOOK_REVIEWS (REVIEW_NO,REVIEW_CONTENT,REVIEW_POINT,REVIEW_REGISTERED_DATE,BOOK_NO,USER_ID) values (22,'리뷰쓰기연습',1,to_date('20/04/28 17:44:17','RR/MM/DD HH24:MI:SS'),10012,'kimmi');
Insert into HR.SAMPLE_BOOK_REVIEWS (REVIEW_NO,REVIEW_CONTENT,REVIEW_POINT,REVIEW_REGISTERED_DATE,BOOK_NO,USER_ID) values (38,'aaa',1,to_date('20/05/22 09:07:00','RR/MM/DD HH24:MI:SS'),10061,'Neena');
Insert into HR.SAMPLE_BOOK_REVIEWS (REVIEW_NO,REVIEW_CONTENT,REVIEW_POINT,REVIEW_REGISTERED_DATE,BOOK_NO,USER_ID) values (46,'그냥그랬습니다 다음번에는 더 재밌게써주세요
김김이',5,to_date('20/05/25 11:26:13','RR/MM/DD HH24:MI:SS'),10010,'kklee0202');
REM INSERTING into HR.SAMPLE_BOOK_USERS
SET DEFINE OFF;
Insert into HR.SAMPLE_BOOK_USERS (USER_ID,USER_PASSWORD,USER_NAME,USER_EMAIL,USER_POINT,USER_REGISTERED_DATE) values ('kklee0202','kk22','김김이','kkll@kk.ll',6300,to_date('20/05/20 19:09:56','RR/MM/DD HH24:MI:SS'));
Insert into HR.SAMPLE_BOOK_USERS (USER_ID,USER_PASSWORD,USER_NAME,USER_EMAIL,USER_POINT,USER_REGISTERED_DATE) values ('siwol_smu','siwolsiwol','권민석','siwol_smu@oct.over',6880,to_date('20/04/24 10:06:39','RR/MM/DD HH24:MI:SS'));
Insert into HR.SAMPLE_BOOK_USERS (USER_ID,USER_PASSWORD,USER_NAME,USER_EMAIL,USER_POINT,USER_REGISTERED_DATE) values ('Neena','neeno','니나','neena@ni.no',5300,to_date('20/04/24 10:06:41','RR/MM/DD HH24:MI:SS'));
Insert into HR.SAMPLE_BOOK_USERS (USER_ID,USER_PASSWORD,USER_NAME,USER_EMAIL,USER_POINT,USER_REGISTERED_DATE) values ('JasikZasik','jsjs1234','사랑이','walwal@dogsound.dog',23400,to_date('20/04/24 10:06:43','RR/MM/DD HH24:MI:SS'));
Insert into HR.SAMPLE_BOOK_USERS (USER_ID,USER_PASSWORD,USER_NAME,USER_EMAIL,USER_POINT,USER_REGISTERED_DATE) values ('kongcha','water1234','작두콩차','ccha@lotte.drink',0,to_date('20/04/24 16:22:54','RR/MM/DD HH24:MI:SS'));
Insert into HR.SAMPLE_BOOK_USERS (USER_ID,USER_PASSWORD,USER_NAME,USER_EMAIL,USER_POINT,USER_REGISTERED_DATE) values ('bakbak','zxcv1234','박박','bakbak@baba.kk',5000,to_date('20/04/24 12:38:41','RR/MM/DD HH24:MI:SS'));
Insert into HR.SAMPLE_BOOK_USERS (USER_ID,USER_PASSWORD,USER_NAME,USER_EMAIL,USER_POINT,USER_REGISTERED_DATE) values ('sdyoon','zxcv1234','윤선도','gosan@choseon.kr',1120,to_date('20/05/22 14:36:40','RR/MM/DD HH24:MI:SS'));
Insert into HR.SAMPLE_BOOK_USERS (USER_ID,USER_PASSWORD,USER_NAME,USER_EMAIL,USER_POINT,USER_REGISTERED_DATE) values ('kimmi','zxcv1234','키미','unbreakable@ks.netflixx',12024,to_date('20/04/24 14:42:53','RR/MM/DD HH24:MI:SS'));
Insert into HR.SAMPLE_BOOK_USERS (USER_ID,USER_PASSWORD,USER_NAME,USER_EMAIL,USER_POINT,USER_REGISTERED_DATE) values ('hong','zxcv1234','홍길동','hong@gmail.com',5000,to_date('20/04/23 17:45:27','RR/MM/DD HH24:MI:SS'));
Insert into HR.SAMPLE_BOOK_USERS (USER_ID,USER_PASSWORD,USER_NAME,USER_EMAIL,USER_POINT,USER_REGISTERED_DATE) values ('sheldor','7c79dd68b400e6b0c9f99f8f221dae26','Sheldon Lee Cooper','shelly@bigbang.theory',0,to_date('20/04/27 10:32:36','RR/MM/DD HH24:MI:SS'));
Insert into HR.SAMPLE_BOOK_USERS (USER_ID,USER_PASSWORD,USER_NAME,USER_EMAIL,USER_POINT,USER_REGISTERED_DATE) values ('123','123','123','123',0,to_date('20/05/22 15:35:10','RR/MM/DD HH24:MI:SS'));
Insert into HR.SAMPLE_BOOK_USERS (USER_ID,USER_PASSWORD,USER_NAME,USER_EMAIL,USER_POINT,USER_REGISTERED_DATE) values ('kimkim','kk1234','김김','kimk@kim.k',5000,to_date('20/04/23 19:42:34','RR/MM/DD HH24:MI:SS'));
REM INSERTING into HR.SAMPLE_BOOKS
SET DEFINE OFF;
Insert into HR.SAMPLE_BOOKS (BOOK_NO,BOOK_TITLE,BOOK_WRITER,BOOK_GENRE,BOOK_PUBLISHER,BOOK_PRICE,BOOK_DISCOUNT_PRICE,BOOK_REGISTERED_DATE,BOOK_STOCK,BOOK_POINT,BOOK_LIKES) values (10007,'자바의 정석','남궁성','IT','도우',30000,27000,to_date('20/04/23 09:37:01','RR/MM/DD HH24:MI:SS'),89,2.2,0);
Insert into HR.SAMPLE_BOOKS (BOOK_NO,BOOK_TITLE,BOOK_WRITER,BOOK_GENRE,BOOK_PUBLISHER,BOOK_PRICE,BOOK_DISCOUNT_PRICE,BOOK_REGISTERED_DATE,BOOK_STOCK,BOOK_POINT,BOOK_LIKES) values (10021,'자바로 배우는 자료구조','이지영','IT','한빛미디어',25000,22500,to_date('20/04/23 15:13:27','RR/MM/DD HH24:MI:SS'),100,0,0);
Insert into HR.SAMPLE_BOOKS (BOOK_NO,BOOK_TITLE,BOOK_WRITER,BOOK_GENRE,BOOK_PUBLISHER,BOOK_PRICE,BOOK_DISCOUNT_PRICE,BOOK_REGISTERED_DATE,BOOK_STOCK,BOOK_POINT,BOOK_LIKES) values (10060,'김김일기','김김이','수필','김김출판',10000,8000,to_date('20/05/21 09:08:59','RR/MM/DD HH24:MI:SS'),0,0,0);
Insert into HR.SAMPLE_BOOKS (BOOK_NO,BOOK_TITLE,BOOK_WRITER,BOOK_GENRE,BOOK_PUBLISHER,BOOK_PRICE,BOOK_DISCOUNT_PRICE,BOOK_REGISTERED_DATE,BOOK_STOCK,BOOK_POINT,BOOK_LIKES) values (10100,'오우가','윤선도','고전문학','조선시조연구회',15000,5000,to_date('20/05/22 14:10:54','RR/MM/DD HH24:MI:SS'),291,4.2,0);
Insert into HR.SAMPLE_BOOKS (BOOK_NO,BOOK_TITLE,BOOK_WRITER,BOOK_GENRE,BOOK_PUBLISHER,BOOK_PRICE,BOOK_DISCOUNT_PRICE,BOOK_REGISTERED_DATE,BOOK_STOCK,BOOK_POINT,BOOK_LIKES) values (10104,'ㅇㅇ','누구게요','수필','ㅇㅇㅇ',25000,22500,to_date('20/05/22 17:03:51','RR/MM/DD HH24:MI:SS'),99,5,0);
Insert into HR.SAMPLE_BOOKS (BOOK_NO,BOOK_TITLE,BOOK_WRITER,BOOK_GENRE,BOOK_PUBLISHER,BOOK_PRICE,BOOK_DISCOUNT_PRICE,BOOK_REGISTERED_DATE,BOOK_STOCK,BOOK_POINT,BOOK_LIKES) values (10061,'책정보등록연습','연습생','비문학','연습출판사',10000,10000,to_date('20/05/21 09:14:18','RR/MM/DD HH24:MI:SS'),0,2,0);
Insert into HR.SAMPLE_BOOKS (BOOK_NO,BOOK_TITLE,BOOK_WRITER,BOOK_GENRE,BOOK_PUBLISHER,BOOK_PRICE,BOOK_DISCOUNT_PRICE,BOOK_REGISTERED_DATE,BOOK_STOCK,BOOK_POINT,BOOK_LIKES) values (10040,'홍홍전','홍홍','소설','홍판사',10000,15000,to_date('20/05/20 18:53:23','RR/MM/DD HH24:MI:SS'),10,0,0);
Insert into HR.SAMPLE_BOOKS (BOOK_NO,BOOK_TITLE,BOOK_WRITER,BOOK_GENRE,BOOK_PUBLISHER,BOOK_PRICE,BOOK_DISCOUNT_PRICE,BOOK_REGISTERED_DATE,BOOK_STOCK,BOOK_POINT,BOOK_LIKES) values (10041,'홍홍전','홍홍','소설','홍판사',10000,15000,to_date('20/05/20 18:53:26','RR/MM/DD HH24:MI:SS'),10,0,0);
Insert into HR.SAMPLE_BOOKS (BOOK_NO,BOOK_TITLE,BOOK_WRITER,BOOK_GENRE,BOOK_PUBLISHER,BOOK_PRICE,BOOK_DISCOUNT_PRICE,BOOK_REGISTERED_DATE,BOOK_STOCK,BOOK_POINT,BOOK_LIKES) values (10010,'알고리즘 트레이닝','조승현','IT','인사이트',25000,22500,to_date('20/04/23 10:31:24','RR/MM/DD HH24:MI:SS'),100,5,0);
Insert into HR.SAMPLE_BOOKS (BOOK_NO,BOOK_TITLE,BOOK_WRITER,BOOK_GENRE,BOOK_PUBLISHER,BOOK_PRICE,BOOK_DISCOUNT_PRICE,BOOK_REGISTERED_DATE,BOOK_STOCK,BOOK_POINT,BOOK_LIKES) values (10011,'학교문법론','이관규','문법서','김김출판',100000,90000,to_date('20/04/28 17:19:25','RR/MM/DD HH24:MI:SS'),0,3.2,2);
Insert into HR.SAMPLE_BOOKS (BOOK_NO,BOOK_TITLE,BOOK_WRITER,BOOK_GENRE,BOOK_PUBLISHER,BOOK_PRICE,BOOK_DISCOUNT_PRICE,BOOK_REGISTERED_DATE,BOOK_STOCK,BOOK_POINT,BOOK_LIKES) values (10012,'백석 정본 시집','고형진','문학','문학 동네',15000,13500,to_date('20/04/29 09:44:33','RR/MM/DD HH24:MI:SS'),86,3,2);
Insert into HR.SAMPLE_BOOKS (BOOK_NO,BOOK_TITLE,BOOK_WRITER,BOOK_GENRE,BOOK_PUBLISHER,BOOK_PRICE,BOOK_DISCOUNT_PRICE,BOOK_REGISTERED_DATE,BOOK_STOCK,BOOK_POINT,BOOK_LIKES) values (10013,'모모','미하엘 엔데','문학','열린책들',19800,20000,to_date('20/04/29 09:44:44','RR/MM/DD HH24:MI:SS'),100,5,1);
Insert into HR.SAMPLE_BOOKS (BOOK_NO,BOOK_TITLE,BOOK_WRITER,BOOK_GENRE,BOOK_PUBLISHER,BOOK_PRICE,BOOK_DISCOUNT_PRICE,BOOK_REGISTERED_DATE,BOOK_STOCK,BOOK_POINT,BOOK_LIKES) values (10014,'업데이트 실습 예제','업데이트','실습','혼자 놀기',10000,9000,to_date('20/04/23 16:17:20','RR/MM/DD HH24:MI:SS'),100,0,0);
Insert into HR.SAMPLE_BOOKS (BOOK_NO,BOOK_TITLE,BOOK_WRITER,BOOK_GENRE,BOOK_PUBLISHER,BOOK_PRICE,BOOK_DISCOUNT_PRICE,BOOK_REGISTERED_DATE,BOOK_STOCK,BOOK_POINT,BOOK_LIKES) values (10081,'고려 시가 총론','김시습','비문학','고려출판사',50000,43000,to_date('20/05/22 11:53:54','RR/MM/DD HH24:MI:SS'),0,2,0);
Insert into HR.SAMPLE_BOOKS (BOOK_NO,BOOK_TITLE,BOOK_WRITER,BOOK_GENRE,BOOK_PUBLISHER,BOOK_PRICE,BOOK_DISCOUNT_PRICE,BOOK_REGISTERED_DATE,BOOK_STOCK,BOOK_POINT,BOOK_LIKES) values (10016,'현재시각 오전 10시 39분','윈도우 시계','수필','마이크로소프트',1500,1000,to_date('20/04/23 10:39:50','RR/MM/DD HH24:MI:SS'),100,5,0);
Insert into HR.SAMPLE_BOOKS (BOOK_NO,BOOK_TITLE,BOOK_WRITER,BOOK_GENRE,BOOK_PUBLISHER,BOOK_PRICE,BOOK_DISCOUNT_PRICE,BOOK_REGISTERED_DATE,BOOK_STOCK,BOOK_POINT,BOOK_LIKES) values (10017,'이것이 자바다','신용권','IT','한빛미디어',35000,32000,to_date('20/04/23 11:08:45','RR/MM/DD HH24:MI:SS'),100,0,0);
Insert into HR.SAMPLE_BOOKS (BOOK_NO,BOOK_TITLE,BOOK_WRITER,BOOK_GENRE,BOOK_PUBLISHER,BOOK_PRICE,BOOK_DISCOUNT_PRICE,BOOK_REGISTERED_DATE,BOOK_STOCK,BOOK_POINT,BOOK_LIKES) values (10080,'입력폼연습','입력폼연습생','고전문학','입력폼',32000,30000,to_date('20/05/22 09:56:00','RR/MM/DD HH24:MI:SS'),50,0,0);
--------------------------------------------------------
--  DDL for Index SYS_C007020
--------------------------------------------------------

  CREATE UNIQUE INDEX "HR"."SYS_C007020" ON "HR"."SAMPLE_BOOK_QUESTIONS" ("QUESTION_NO") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index SAMPLE_BOOK_ANSWERS_PK
--------------------------------------------------------

  CREATE UNIQUE INDEX "HR"."SAMPLE_BOOK_ANSWERS_PK" ON "HR"."SAMPLE_BOOK_ANSWERS" ("ANSWER_NO") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index SAMPLE_BOOK_ANSWERS_UK1
--------------------------------------------------------

  CREATE UNIQUE INDEX "HR"."SAMPLE_BOOK_ANSWERS_UK1" ON "HR"."SAMPLE_BOOK_ANSWERS" ("QUESTION_NO") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index LIKES_UK
--------------------------------------------------------

  CREATE UNIQUE INDEX "HR"."LIKES_UK" ON "HR"."SAMPLE_BOOK_LIKES" ("BOOK_NO", "USER_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index SYS_C007011
--------------------------------------------------------

  CREATE UNIQUE INDEX "HR"."SYS_C007011" ON "HR"."SAMPLE_BOOK_ORDERS" ("ORDER_NO") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index REVIEW_NO_PK
--------------------------------------------------------

  CREATE UNIQUE INDEX "HR"."REVIEW_NO_PK" ON "HR"."SAMPLE_BOOK_REVIEWS" ("REVIEW_NO") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index REVIEWS_UK
--------------------------------------------------------

  CREATE UNIQUE INDEX "HR"."REVIEWS_UK" ON "HR"."SAMPLE_BOOK_REVIEWS" ("BOOK_NO", "USER_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index SYS_C007010
--------------------------------------------------------

  CREATE UNIQUE INDEX "HR"."SYS_C007010" ON "HR"."SAMPLE_BOOK_USERS" ("USER_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index SYS_C007006
--------------------------------------------------------

  CREATE UNIQUE INDEX "HR"."SYS_C007006" ON "HR"."SAMPLE_BOOKS" ("BOOK_NO") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Trigger INCREASE_BOOK_LIKES_TRIGGER
--------------------------------------------------------

  CREATE OR REPLACE TRIGGER "HR"."INCREASE_BOOK_LIKES_TRIGGER" 
AFTER
INSERT ON sample_book_likes
FOR EACH ROW
BEGIN
    UPDATE sample_books
    SET
        book_likes = book_likes +1
    WHERE
        book_no = :NEW.book_no;
END;
/
ALTER TRIGGER "HR"."INCREASE_BOOK_LIKES_TRIGGER" ENABLE;
--------------------------------------------------------
--  DDL for Trigger INCREASE_USER_POINT_TRIGGER
--------------------------------------------------------

  CREATE OR REPLACE TRIGGER "HR"."INCREASE_USER_POINT_TRIGGER" 
AFTER
INSERT ON sample_book_orders
FOR EACH ROW
DECLARE
    -- 변수를 만드는 자리
    v_order_price       sample_book_orders.order_price%TYPE; 
    v_order_amount      sample_book_orders.order_amount%TYPE; 
    v_deposit_point     sample_book_users.user_point%TYPE;

BEGIN

    v_order_price       := :NEW.order_price;
    v_order_amount      := :NEW.order_amount;
    v_deposit_point     := TRUNC(v_order_price * v_order_amount * 0.02);

    UPDATE sample_book_users
    SET
        user_point = user_point + v_deposit_point
    WHERE user_id = :NEW.user_id;

END;
/
ALTER TRIGGER "HR"."INCREASE_USER_POINT_TRIGGER" ENABLE;
--------------------------------------------------------
--  DDL for Trigger SAMPLE_BOOK_STOCK_TRIGGER
--------------------------------------------------------

  CREATE OR REPLACE TRIGGER "HR"."SAMPLE_BOOK_STOCK_TRIGGER" AFTER 
INSERT ON sample_book_orders
FOR EACH ROW
BEGIN 
    UPDATE sample_books
    SET
        book_stock = book_stock - :NEW.order_amount
    WHERE book_no = :NEW.book_no;
END;
/
ALTER TRIGGER "HR"."SAMPLE_BOOK_STOCK_TRIGGER" ENABLE;
--------------------------------------------------------
--  DDL for Trigger UPDATE_REVIEW_POINT_TRIGGER
--------------------------------------------------------

  CREATE OR REPLACE TRIGGER "HR"."UPDATE_REVIEW_POINT_TRIGGER" 
BEFORE
INSERT ON sample_book_reviews
FOR EACH ROW
DECLARE
    CURSOR review_list (param_book_no sample_books.book_no%TYPE) IS
    SELECT review_point
    FROM sample_book_reviews
    WHERE book_no = param_book_no;

    v_total_point     NUMBER := 0;
    v_row_count       NUMBER := 0;
    v_avg_point       NUMBER;

BEGIN
    FOR review IN review_list (:NEW.book_no) LOOP
        v_total_point := v_total_point + review.review_point;
        v_row_count := v_row_count + 1;
    END LOOP;

    v_avg_point := TRUNC((v_total_point + :NEW.review_point) / (v_row_count + 1), 1);

    UPDATE sample_books
        SET
            book_point = v_avg_point
    WHERE book_no = :NEW.book_no;

END;
/
ALTER TRIGGER "HR"."UPDATE_REVIEW_POINT_TRIGGER" ENABLE;
--------------------------------------------------------
--  Constraints for Table SAMPLE_BOOK_QUESTIONS
--------------------------------------------------------

  ALTER TABLE "HR"."SAMPLE_BOOK_QUESTIONS" ADD PRIMARY KEY ("QUESTION_NO")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE;
  ALTER TABLE "HR"."SAMPLE_BOOK_QUESTIONS" MODIFY ("QUESTION_TYPE" NOT NULL ENABLE);
  ALTER TABLE "HR"."SAMPLE_BOOK_QUESTIONS" MODIFY ("QUESTION_CONTENT" NOT NULL ENABLE);
  ALTER TABLE "HR"."SAMPLE_BOOK_QUESTIONS" MODIFY ("QUESTION_TITLE" NOT NULL ENABLE);
--------------------------------------------------------
--  Constraints for Table SAMPLE_BOOK_ANSWERS
--------------------------------------------------------

  ALTER TABLE "HR"."SAMPLE_BOOK_ANSWERS" ADD CONSTRAINT "SAMPLE_BOOK_ANSWERS_UK1" UNIQUE ("QUESTION_NO")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE;
  ALTER TABLE "HR"."SAMPLE_BOOK_ANSWERS" ADD CONSTRAINT "SAMPLE_BOOK_ANSWERS_PK" PRIMARY KEY ("ANSWER_NO")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE;
  ALTER TABLE "HR"."SAMPLE_BOOK_ANSWERS" MODIFY ("ANSWER_CONTENT" NOT NULL ENABLE);
--------------------------------------------------------
--  Constraints for Table SAMPLE_BOOK_LIKES
--------------------------------------------------------

  ALTER TABLE "HR"."SAMPLE_BOOK_LIKES" ADD CONSTRAINT "LIKES_UK" UNIQUE ("BOOK_NO", "USER_ID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE;
  ALTER TABLE "HR"."SAMPLE_BOOK_LIKES" MODIFY ("USER_ID" NOT NULL ENABLE);
  ALTER TABLE "HR"."SAMPLE_BOOK_LIKES" MODIFY ("BOOK_NO" NOT NULL ENABLE);
--------------------------------------------------------
--  Constraints for Table SAMPLE_BOOK_ORDERS
--------------------------------------------------------

  ALTER TABLE "HR"."SAMPLE_BOOK_ORDERS" MODIFY ("BOOK_NO" NOT NULL ENABLE);
  ALTER TABLE "HR"."SAMPLE_BOOK_ORDERS" ADD PRIMARY KEY ("ORDER_NO")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE;
  ALTER TABLE "HR"."SAMPLE_BOOK_ORDERS" MODIFY ("USER_ID" NOT NULL ENABLE);
--------------------------------------------------------
--  Constraints for Table SAMPLE_BOOK_REVIEWS
--------------------------------------------------------

  ALTER TABLE "HR"."SAMPLE_BOOK_REVIEWS" ADD CONSTRAINT "REVIEWS_UK" UNIQUE ("BOOK_NO", "USER_ID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE;
  ALTER TABLE "HR"."SAMPLE_BOOK_REVIEWS" ADD CONSTRAINT "REVIEW_NO_PK" PRIMARY KEY ("REVIEW_NO")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE;
  ALTER TABLE "HR"."SAMPLE_BOOK_REVIEWS" ADD CONSTRAINT "REVIEW_POINT_CK" CHECK (review_point >=0 AND review_point <= 5) ENABLE;
  ALTER TABLE "HR"."SAMPLE_BOOK_REVIEWS" MODIFY ("REVIEW_CONTENT" CONSTRAINT "REVIEW_CONTENT_NN" NOT NULL ENABLE);
--------------------------------------------------------
--  Constraints for Table SAMPLE_BOOK_USERS
--------------------------------------------------------

  ALTER TABLE "HR"."SAMPLE_BOOK_USERS" ADD PRIMARY KEY ("USER_ID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE;
  ALTER TABLE "HR"."SAMPLE_BOOK_USERS" MODIFY ("USER_NAME" NOT NULL ENABLE);
  ALTER TABLE "HR"."SAMPLE_BOOK_USERS" MODIFY ("USER_PASSWORD" NOT NULL ENABLE);
--------------------------------------------------------
--  Constraints for Table SAMPLE_BOOKS
--------------------------------------------------------

  ALTER TABLE "HR"."SAMPLE_BOOKS" ADD PRIMARY KEY ("BOOK_NO")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE;
  ALTER TABLE "HR"."SAMPLE_BOOKS" MODIFY ("BOOK_DISCOUNT_PRICE" NOT NULL ENABLE);
  ALTER TABLE "HR"."SAMPLE_BOOKS" MODIFY ("BOOK_PRICE" NOT NULL ENABLE);
  ALTER TABLE "HR"."SAMPLE_BOOKS" MODIFY ("BOOK_PUBLISHER" NOT NULL ENABLE);
  ALTER TABLE "HR"."SAMPLE_BOOKS" MODIFY ("BOOK_GENRE" NOT NULL ENABLE);
  ALTER TABLE "HR"."SAMPLE_BOOKS" MODIFY ("BOOK_WRITER" NOT NULL ENABLE);
  ALTER TABLE "HR"."SAMPLE_BOOKS" MODIFY ("BOOK_TITLE" NOT NULL ENABLE);
--------------------------------------------------------
--  Ref Constraints for Table SAMPLE_BOOK_QUESTIONS
--------------------------------------------------------

  ALTER TABLE "HR"."SAMPLE_BOOK_QUESTIONS" ADD FOREIGN KEY ("USER_ID")
	  REFERENCES "HR"."SAMPLE_BOOK_USERS" ("USER_ID") ENABLE;
--------------------------------------------------------
--  Ref Constraints for Table SAMPLE_BOOK_ANSWERS
--------------------------------------------------------

  ALTER TABLE "HR"."SAMPLE_BOOK_ANSWERS" ADD FOREIGN KEY ("QUESTION_NO")
	  REFERENCES "HR"."SAMPLE_BOOK_QUESTIONS" ("QUESTION_NO") ENABLE;
--------------------------------------------------------
--  Ref Constraints for Table SAMPLE_BOOK_LIKES
--------------------------------------------------------

  ALTER TABLE "HR"."SAMPLE_BOOK_LIKES" ADD CONSTRAINT "LIKES_BOOKNO_FK" FOREIGN KEY ("BOOK_NO")
	  REFERENCES "HR"."SAMPLE_BOOKS" ("BOOK_NO") ENABLE;
  ALTER TABLE "HR"."SAMPLE_BOOK_LIKES" ADD CONSTRAINT "LIKES_USERID_FK" FOREIGN KEY ("USER_ID")
	  REFERENCES "HR"."SAMPLE_BOOK_USERS" ("USER_ID") ENABLE;
--------------------------------------------------------
--  Ref Constraints for Table SAMPLE_BOOK_ORDERS
--------------------------------------------------------

  ALTER TABLE "HR"."SAMPLE_BOOK_ORDERS" ADD FOREIGN KEY ("USER_ID")
	  REFERENCES "HR"."SAMPLE_BOOK_USERS" ("USER_ID") ENABLE;
  ALTER TABLE "HR"."SAMPLE_BOOK_ORDERS" ADD FOREIGN KEY ("BOOK_NO")
	  REFERENCES "HR"."SAMPLE_BOOKS" ("BOOK_NO") ENABLE;
--------------------------------------------------------
--  Ref Constraints for Table SAMPLE_BOOK_REVIEWS
--------------------------------------------------------

  ALTER TABLE "HR"."SAMPLE_BOOK_REVIEWS" ADD CONSTRAINT "REIVEW_USERID_FK" FOREIGN KEY ("USER_ID")
	  REFERENCES "HR"."SAMPLE_BOOK_USERS" ("USER_ID") ENABLE;
  ALTER TABLE "HR"."SAMPLE_BOOK_REVIEWS" ADD CONSTRAINT "REVIEW_BOOKNO_FK" FOREIGN KEY ("BOOK_NO")
	  REFERENCES "HR"."SAMPLE_BOOKS" ("BOOK_NO") ENABLE;
